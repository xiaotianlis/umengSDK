<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_26) on Fri May 25 15:07:24 CST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<TITLE>
com.umeng.ad (UMENG SDK)
</TITLE>

<META NAME="date" CONTENT="2012-05-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="com.umeng.ad (UMENG SDK)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

			 <a href="http://www.umeng.com"><img src="http://www.umeng.com/images/image_updated/logo.png"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../com/umeng/analytics/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/umeng/ad/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package com.umeng.ad
</H2>
友盟广告
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/umeng/ad/AdListener.html" title="interface in com.umeng.ad">AdListener</A></B></TD>
<TD>供开发者判断广告是否成功取得的回调接口</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/umeng/ad/AdConstants.html" title="class in com.umeng.ad">AdConstants</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../com/umeng/ad/AdView.html" title="class in com.umeng.ad">AdView</A></B></TD>
<TD>AdView 是 banner 广告的底部容器,实现了SwithAdListener(广告轮播interface)和
 AdClickListener(点击监控interface)</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package com.umeng.ad Description
</H2>

<P>
<p>友盟广告</p>
        <h3>更新日志</h3>
        <table border="1">
                <tr>
                        <th>日期</th>
                        <th>版本</th>
                        <th>说明</th>
                </tr>
                <tr>
                        <td>2012/02/22</td>
                        <td>V﻿1.4.6</td>
                        <td><ul>
                                        <li>增加断点续传功能</li>
                                </ul></td>
                </tr>
                <tr>
                        <td>2011/12/01</td>
                        <td>V1.4.5</td>
                        <td>
                                <ul>
                                        <li>修改无广告轮播时程序响应时间过长的bug</li>
                                        <li>修改Demo中的bug</li>
                                </ul>
                        </td>
                </tr>
                <tr>
                        <td>2011/10/26</td>
                        <td>V1.4.4</td>
                        <td>
                                <ul>
                                        <li>优化了gif加载时的内存使用策略。</li>
                                </ul>
                        </td>
                </tr>
                <tr>
                        <td>2011/10/19</td>
                        <td>V1.4.3</td>
                        <td><ul>
                                        <li>修复了设备mac地址无法读取的问题</li>
                                </ul></td>
                </tr>
                <tr>
                        <td>2011/09/14</td>
                        <td>V1.4.2</td>
                        <td>
                                <ul>
                                        <li>优化webView页面</li>
                                        <li>修复webview页面无法下载bug</li>
                                        <li>增加 drawable文件uyun_loadin_seek.xml, uyun_seek.png,
                                                uyun_seek_bg.png 修改了uyun_webview.xml</li>
                                </ul>
                        </td>
                </tr>
                <tr>
                        <td>2011/08/22</td>
                        <td>V1.4.1</td>
                        <td>
                                <ul>
                                        <li>优化广告展现形式</li>
                                        <li>删除权限 "android.permission.CALL_PHONE"</li>
                                </ul>
                        </td>
                </tr>
                <tr>
                        <td>2011/08/15</td>
                        <td>V1.4.0</td>
                        <td>
                                <ul>
                                        <li>增加新的广告类型</li>
                                        <li>优化广告展现形式</li>
                                        <li>增加权限 "android.permission.CALL_PHONE"</li>
                                        <li>cliteId和slotId 由int型变成String型</li>
                                </ul>
                        </td>
                </tr>
                <tr>
                        <td>2011/08/8</td>
                        <td>V1.3</td>
                        <td>
                                <ul>
                                        <li>精品推荐采用webview形式，展现更加新颖</li>
                                        <li>首次广告出现时间优化</li>
                                </ul>
                        </td>
                </tr>
        </table>
        <h3>1 导入umeng_ad_android_sdk1.4.6.jar (以下简称sdk)</h3>
        下载最新版sdk的zip包，解压将其中的umeng_ad_android_sdk.jar释放到本地目录，
        Eclipse用户右键您的工程根目录，选择Properties -> Java Build Path -> Libraries，
        然后点击Add External JARs... 选择指向 SDK.jar的路径，点击OK，即导入成功。

        <h3>2 添加相应的资源文件</h3>
        将sdk提供的drawable，layout文件夹内的文件拷入工程相应目录下

        <h3>3 添加Activity声明</h3>
        打开AndroidManifest.xml 在
        <application>中添加展示广告列表页面的Activity： <br>
        <br>
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                <activity android:name="com.umengAd.android.UmengAdDetailActivity"
                        android:configChanges="keyboardHidden|orientation"
                        android:theme="@android:style/Theme.Translucent"/>      
        
        ]]></script>


        <h4>4 添加权限许可</h4>
        添加广告SDK需要的权限到<manifest>下 <br>
        <br>
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                <uses-permission android:name="android.permission.INTERNET"/>
                <uses-permission android:name="android.permission.READ_PHONE_STATE"/>
                <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
                <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
                <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
                <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />    
        
        ]]></script>

        <h3>5 添加代码</h3>
        <h4>5.1 Banner 型广告(320dp x 50dp)</h4>
        <h5>5.1.1 添加方法一：从xml中添加</h5>
        <h5>1. 更新layout，添加 banner view 一个简单例子</h5>
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                <?xml version="1.0" encoding="utf-8"?>
                <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                        android:layout_width="fill_parent"
                    android:layout_height="fill_parent"
                    android:background="#ffffffff"
                >
                <com.umengAd.android.AdView
                                android:id="@+id/uyun_ad_view"
                                android:layout_width="fill_parent"
                                android:layout_height="wrap_content"
                                android:layout_alignParentBottom="true"
                /> 
                </RelativeLayout>
        ]]></script>

        <h5>2. 添加代码</h5>
        每个banner型广告位都有一个clientId、slotId，请向友盟索取。并在相应的activity 里设置，初始化AdView <script
                type="syntaxhighlighter" class="brush: java">
        <![CDATA[
            public void onCreate(Bundle savedInstanceState) {
                        super.onCreate(savedInstanceState);
                        setContentView(R.layout.main);
                        
                        AdView adView = (AdView)findViewById(R.id.uyun_ad_view);
                        adView.adInit("10013", "10050");                // 设置基本参数
                        adView.setTextColor("#ff3c3d4d");       // 设置非图片广告文本颜色
                        //  adView.setBannerColor("#ffffffff"); // 设置广告 背景颜色
                        adView.setBannerResource(R.drawable.uyun_banner_bg); 
                        // 设置非图片广告背景图片
                        // UyunConstants.AnimationType = UyunConstants.ANIM_UP;
                        //设置广告页面动画
                }
        ]]></script>

        <h5>5.1.2 添加方法二：直接代码添加广告banner</h5>
        例子： <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                AdView adView = new AdView(this);       // 代码添加 广告banner
                RelativeLayout.LayoutParams rl = new RelativeLayout.LayoutParams(
                                        ViewGroup.LayoutParams.FILL_PARENT,
                                        ViewGroup.LayoutParams.WRAP_CONTENT);
                        rl.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM);
                        ViewGroup main = (ViewGroup)findViewById(R.id.main);
                        main.addView(adView, rl);
                        adView.adInit("10013", "10050");                        // 设置参数
                        adView.setTextColor("#ff3c3d4d");               //设置非图片广告文本颜色
                        // adView.setBannerColor("#ffffffff");          // 设置广告 背景颜色
                        adView.setBannerResource(R.drawable.uyun_banner_bg); 
                        // 设置非图片广告背景图片
        ]]></script> AdView函数说明: <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                //媒体ID, banner 广告位ID
                public void adInit(String clientId, String slotId) {}
        ]]></script>

        <h4>5.2 入口型广告</h4>
        <h5>5.2.1 添加代码</h5>
        每个入口型广告位都有一个clientId、slotId，请向友盟索取。任意位置调用 AdView.showEnter() 函数即可。 
        <script
                type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                public static void showEnter(Context mContext, String clientId, String slotId) { }      //context, 入口 媒体ID, 入口广告位ID
        ]]></script> 
        例子: 
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                Button enterBtn = (Button) findViewById(R.id.uyun_ad_enter);
                enterBtn.setOnClickListener(new OnClickListener() {
                        &#64Override
                        public void onClick(View v) {
                                AdView.showEnter(UmengAd.this, "10013", "10049");       //基本参数设置
                        }
                });
        ]]></script>

        <h4>5.3 高级参数设置</h4>
        <h5>5.3.1 int UyunConstants.AnimationType //广告弹出页面动画形式</h5>
        可设置参数如下： <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                UyunConstants.ANIM_UP; //动画进入自下而上，退出自上而下(默认)
                UyunConstants.ANIM_DOWN; //动画进入自上而下，退出自下而上
                UyunConstants.ANIM_NONE; //进入退出无动画
        ]]></script>

        <h5>5.3.2 UmengAdListener 广告成功失败监听</h5>
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                adView.setUmengAdListener(this);                // 可以不设置监听器     
                &#64Override
                public void onRequestFail(AdView paramAdView) { //请求广告失败
                        // TODO Auto-generated method stub
                }
                &#64Override
                public void onRequestSuccess(AdView paramAdView) { //请求广告成功
                        // TODO Auto-generated method stub
                }
        ]]></script> 配置proguard文件： 导入资源文件的时候，请不要改变资源文件的结构及名称。并且在混淆配置文件里加入如下代码 
        <script type="syntaxhighlighter" class="brush: java">
        <![CDATA[
                -keep public class [YourPackagePath].R$*{
                        public static final int uyun_*;
                }
        ]]></script>

        <h3>6 Demo展示</h3>

        <table>
                <tr>
                        <td><img src="../../../images/ad_wap_01.png" width="300" height="400"></td>
                        <td><img src="../../../images/ad_wap_02.png" width="300" height="400"></td>
                </tr>

                <tr>
                        <td style="text-align: center;">图6-1 banner广告</td>
                        <td style="text-align: center;">图6-2 广告展示</td>
                </tr>

                <tr>
                        <td><img src="../../../images/ad_wap_03.png" width="300" height="400"></td>
                        <td><img src="../../../images/ad_wap_04.png" width="300" height="400"></td>
                </tr>

                <tr>
                        <td style="text-align: center;">图6-3 精品推荐广告入口</td>
                        <td style="text-align: center;">图6-4 点击入口、展示广告</td>
                </tr>
        </table>
        

        <h3>7 技术支持</h3>
        如果您在集成友盟应广告SDK的过程中遇到任何问题， 欢迎联系我们的技术工程师。 如果您有好的建议，也欢迎和我们交流。
        <dl>
                <dt>王冠臣</dt>
                <dd>QQ:332434050</dd>
                <dd>Email: wangguanchen@umeng.com</dd>
        </dl>

        <!-- Include required JS files --> 
        <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js'
                type='text/javascript'></script>
        <link href="http://www.umeng.com/doc/css/styles/shThemeEclipse.css"
                rel="stylesheet" type="text/css" />
        <link href="http://www.umeng.com/doc/css/styles/shCore.css"
                rel="stylesheet" type="text/css" />

        <!--            <script type="text/javascript" src="../../../scripts/shCore.js"></script>
        <script type="text/javascript" src="../../../scripts/shBrushXml.js"></script>
        <script type="text/javascript" src="../../../scripts/shBrushJava.js"></script>
        <script src='../../../scripts/shAutoloader.js' type='text/javascript'></script> -->

        <script src="http://www.umeng.com/doc/js/scripts/shCore.js"
                type="text/javascript"></script> <script
                src="http://www.umeng.com/doc/js/scripts/shAutoloader.js"
                type="text/javascript"></script> <script type='text/javascript'>
                        $(function() {
                                function path() {
                                        var args = arguments, result = [];

                                        for ( var i = 0; i < args.length; i++)
                                                result.push(args[i].replace('@',
                                                                'http://www.umeng.com/doc/js/scripts/'));

                                        return result
                                };

                                SyntaxHighlighter.autoloader.apply(null, path(
                                                'applescript            @shBrushAppleScript.js',
                                                'actionscript3 as3      @shBrushAS3.js',
                                                'bash shell             @shBrushBash.js',
                                                'coldfusion cf          @shBrushColdFusion.js',
                                                'cpp c                  @shBrushCpp.js',
                                                'c# c-sharp csharp      @shBrushCSharp.js',
                                                'css                    @shBrushCss.js',
                                                'delphi pascal          @shBrushDelphi.js',
                                                'diff patch pas         @shBrushDiff.js',
                                                'erl erlang             @shBrushErlang.js',
                                                'groovy                 @shBrushGroovy.js',
                                                'java                   @shBrushJava.js',
                                                'jfx javafx             @shBrushJavaFX.js',
                                                'js jscript javascript  @shBrushJScript.js',
                                                'perl pl                @shBrushPerl.js',
                                                'php                    @shBrushPhp.js',
                                                'text plain             @shBrushPlain.js',
                                                'py python              @shBrushPython.js',
                                                'ruby rails ror rb      @shBrushRuby.js',
                                                'sass scss              @shBrushSass.js',
                                                'scala                  @shBrushScala.js',
                                                'sql                    @shBrushSql.js',
                                                'vb vbnet               @shBrushVb.js',
                                                'xml xhtml xslt html    @shBrushXml.js'));
                                SyntaxHighlighter.all();
                        });
                </script>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

			 <a href="http://www.umeng.com"><img src="http://www.umeng.com/images/image_updated/logo.png"></a></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;<A HREF="../../../com/umeng/analytics/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/umeng/ad/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

			<i>Copyright &#169; 2012 Umeng Corp. All Rights Reserved.</i>
</BODY>
</HTML>
